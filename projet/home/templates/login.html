{% load static %}

<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8"/>
<meta content="width=device-width, initial-scale=1" name="viewport"/>
<link href="{% static 'css/style.css' %}" media="screen" rel="stylesheet" type="text/css"/>
<style>@import url('https://fonts.googleapis.com/css2?family=Cinzel&family=Erica+One&family=Syncopate&family=Kanit:wght@800&family=Montserrat:wght@300&family=Ramabhadra&family=Work+Sans:wght@300&display=swap');</style>
<script crossorigin="anonymous" integrity="sha256-H+K7U5CnXl1h5ywQfKtSj8PCmoN9aaq30gDh27Xc0jk=" src="https://code.jquery.com/jquery-3.6.0.js"></script>
<title>Amazob</title>
<link rel="shortcut icon" href="{% static 'imgs/infini.png' %}" type="image/x-icon">
</head>
<body>
<script>
				$(window).bind('load',function(){
					$('#load').css({
						'opacity' : '0'
					});
					$('#load').css({
						'z-index' : '-1000'
					});
				});
				$(window).ready(function(){
					if ($(window).width() <= 768) {  
						$(".Tall").click(function(){
							$("#mtopbar").css({
								"left" : "-100vw"
							});
							$("#mb2").css({
								"color" : "white"
							});
							$("#mb1").css({
								"right" : "20px",
								"transform" : "rotate(0deg)"
							});
							$("#mb3").css({
								"left" : "20px",
								"transform" : "rotate(0deg)"
							});
							$("#mtopbar").css({
								"left" : "-100vw"
							});
						});
					}
				});
				$(window).resize(function(){
					if ($(window).width() <= 768) {
						$(".Tall").click(function(){
							$("#mtopbar").css({
								"left" : "-100vw"
							});
							$("#mb2").css({
								"color" : "white"
							});
							$("#mb1").css({
								"right" : "20px",
								"transform" : "rotate(0deg)"
							});
							$("#mb3").css({
								"left" : "20px",
								"transform" : "rotate(0deg)"
							});
							$("#mtopbar").css({
								"left" : "-100vw"
							});
						});
					}
				});
				$(window).on('scroll',function() {
					var scrollTop = $(window).scrollTop();
					if ( scrollTop > $('.filtre').offset().top ) { 
						$('#div4').css({
							'opacity' : '1',
							'left' : '10vw',
							'box-shadow' : '-50px 0px 0px rgba(26, 196, 187, 15%)'
						})
						$('#p1').css({
							'opacity' : '1'
						})
						$('#p1').css({
							'margin-bottom' : '0'
						})
					}
				});
				$(document).ready(function(){
					let bouton=0
					$("#left_arrow").click(function(){
						$("#img1").css({
							"width" : "700px",
							"height" : "400px",
							"left" : "calc(50% - 350px)",
							"opacity" : "1",
							"z-index" : "2"
						});
						$("#img2").css({
							"width" : "500px",
							"height" : "300px",
							"margin-left" : "57.5%",
							"opacity" : "0",
							"z-index" : "1"
						});
						$("#img3").css({
							"width" : "500px",
							"height" : "300px",
							"right" : "-15%",
							"opacity" : "0"
						});
						$("#right_arrow").css({
							"z-index" : "3"
						});
						$("#right_arrow2").css({
							"z-index" : "4"
						});
						$("#div3").css({
							"background-color" : "#3155ad"
						});
						$("#tl1-1").css({
							"transform" : "rotate3d(0,0,0,0deg)",
							"opacity" : "1"
						});
						$("#tl2-1").css({
							"transform" : "rotate3d(0,1,0,180deg)",
							"opacity" : "0"
						});
					});
					$("#left_arrow2").click(function(){
						$("#img1").css({
							"width" : "500px",
							"height" : "300px",
							"left" : "7.5%",
							"opacity" : "0",
							"z-index" : "1"
						});
						$("#img2").css({
							"width" : "700px",
							"height" : "400px",
							"margin-left" : "0",
							"opacity" : "1",
							"z-index" : "2"
						});
						$("#img3").css({
							"width" : "500px",
							"height" : "300px",
							"right" : "7.5%",
							"opacity" : "0",
							"z-index" : "1"
						});
						$("#left_arrow").css({
							"z-index" : "4"
						});
						$("#left_arrow2").css({
							"z-index" : "3"
						});
						$("#right_arrow").css({
							"z-index" : "4"
						});
						$("#right_arrow2").css({
							"z-index" : "3"
						});
						$("#div3").css({
							"background-color" : "#a2dae4"
						});
						$("#tl2-1").css({
							"transform" : "rotate3d(0,1,0,0deg)",
							"opacity" : "1"
						});
						$("#tl3-1").css({
							"transform" : "rotate3d(0,1,0,180deg)",
							"opacity" : "0"
						});
					});
					$("#right_arrow").click(function(){
						$("#img1").css({
							"width" : "500px",
							"height" : "300px",
							"left" : "-15%",
							"opacity" : "0",
							"z-index" : "1"
						});
						$("#img2").css({
							"width" : "500px",
							"height" : "300px",
							"margin-left" : "-57.5%",
							"opacity" : "0",
							"z-index" : "1"
						});
						$("#img3").css({
							"width" : "700px",
							"height" : "400px",
							"right" : "calc(50% - 350px)",
							"opacity" : "1",
							"z-index" : "2"
						});
						$("#left_arrow").css({
							"z-index" : "3"
						});
						$("#left_arrow2").css({
							"z-index" : "4"
						});
						$("#div3").css({
							"background-color" : "#393b40"
						});
						$("#tl2-1").css({
							"transform" : "rotate3d(0,1,0,180deg)",
							"opacity" : "0"
						});
						$("#tl3-1").css({
							"transform" : "rotate3d(0,0,0,0deg)",
							"opacity" : "1"
						});
					});
					$("#right_arrow2").click(function(){
						$("#img1").css({
							"width" : "500px",
							"height" : "300px",
							"left" : "7.5%",
							"opacity" : "0",
							"z-index" : "1"
						});
						$("#img2").css({
							"width" : "700px",
							"height" : "400px",
							"margin-left" : "0",
							"opacity" : "1",
							"z-index" : "2"
						});
						$("#img3").css({
							"width" : "500px",
							"height" : "300px",
							"right" : "7.5%",
							"opacity" : "0",
							"z-index" : "1"
						});
						$("#left_arrow").css({
							"z-index" : "4"
						});
						$("#left_arrow2").css({
							"z-index" : "3"
						});
						$("#right_arrow").css({
							"z-index" : "4"
						});
						$("#right_arrow2").css({
							"z-index" : "3"
						});
						$("#div3").css({
							"background-color" : "#a2dae4"
						});
						$("#tl2-1").css({
							"transform" : "rotate3d(0,1,0,0deg)",
							"opacity" : "1"
						});
						$("#tl1-1").css({
							"transform" : "rotate3d(0,1,0,180deg)",
							"opacity" : "0"
						});
					});
					$("#menu").click(function(){
						if (bouton==0) {
							$("#mb2").css({
								"position" : "absolute",
								"color" : "white"
							});
							$("#mb1").css({
								"right" : "10px",
								"transform" : "rotate(45deg)"
							});
							$("#mb3").css({
								"left" : "10px",
								"transform" : "rotate(-45deg)"
							});
							$("#mtopbar").css({
								"left" : "0"
							});
							bouton=1
						}
						else {
							$("#mb2").css({
								"color" : "rgb(38, 38, 38)"
							});
							$("#mb1").css({
								"right" : "20px",
								"transform" : "rotate(0deg)"
							});
							$("#mb3").css({
								"left" : "20px",
								"transform" : "rotate(0deg)"
							});
							$("#mtopbar").css({
								"left" : "-100vw"
							});
							bouton=0
						}
					});
				});
</script>
<div id="load"><div id="dot1"></div><div id="dot2"></div></div>
<div id="topbar"><b>
	<img href="{% url 'home:home' %}" id="logo" src="{% static 'imgs/infini.png' %}">
	<a id="Tlogo" href="{% url 'home:home' %}">AMAZING</a>
	<div id="menu">
	<h1 class="menubar" id="mb1">|</h1>
	<h1 class="menubar" id="mb2">|</h1>
	<h1 class="menubar" id="mb3">|</h1>
	</div>
	<div id="mtopbar">
	<a class="Tall" href="{% url 'home:home' %}">Produits</a>
	</div>
	<div id="dlogin">
		{% if request.user.is_authenticated %}
			<a href="" id="profil"><img src="{% static 'imgs/homme.png' %}" width="30px"></a>
			<a class="Tlogin" id="Tlogin1" href="{% url 'home:login' %}">Se déconnecter</a>
		{% else %}
			<a class="Tlogin" id="Tlogin1" href="{% url 'home:login' %}">S'inscrire</a><a class="Tlogin" id="Tlogin2" href="{% url 'home:login' %}">Se connecter</a>
		{% endif %}
		<a href="{% url 'home:panier' %}">
			<img id="logo-panier" src="{% static 'imgs/panier.png' %}">
			<div id="nbr-panier">0</div>
		</a>
	</div></b>
</div>
<div id="div1">
<div id="dloginall">
	{% if request.user.is_authenticated %}
		<div id="logout">
            <form id="f2" method="POST" action="{% url 'home:login' %}">
				{% csrf_token %}
                <button id="b2">Logout</button>
            </form>
		</div>
	{% else %}
	{% for message in messages %}
		<div id="popup" class="animpopup">{{ message }}</div>
	{% endfor %}
    <div class="container" id="container">
        <div class="form-container sign-up-container">
            <form id="f2" method="POST" value="inscription">
				<input type="hidden" name="action" value="inscription">
                <h1 name="inscription" class="Tloginall" id="Tloginall2">Inscription</h1>
                {% csrf_token %}
				<input name="username" type="text" placeholder="Nom" />
                <input name="email" type="email" placeholder="Email" />
                <input name="password" type="password" placeholder="Mot de passe" />
                <input name="adresse" type="text" placeholder="Rue (ex : 10 rue de Lavanville)" />
                <input name="cp" type="text" placeholder="Code Postal" />
				<div id="dj-trans">
					<input id="transporteur" name="transporteur"  type="checkbox"/>
					<h1 id="Tdj-trans">Devenir transporteur</h1>
				</div>
                <button id="b2">S'inscrire</button>
            </form>
        </div>
        <div class="form-container sign-in-container">
            <form id="f1" name="LoginForm" method="POST" value="connexion">
				{% csrf_token %}
				<input type="hidden" name="action" value="connexion">
                <h1 name="connexion" class="Tloginall">Connexion</h1>
                <input name="username" type="username" placeholder="Login" />
                <input name="password" type="password" placeholder="Mot de passe" />
                <button id="b1">Se connecter</button>
            </form>
        </div>
        <div class="overlay-container">
            <div class="overlay">
                <div class="overlay-panel overlay-left">
                    <h1 class="Tloginall" id="Tloginallbis">Heureux de vous revoir !</h1>
                    <p style="margin-bottom: 50px;">Connectez vous à nouveau pour continuer vos achats</p>
                    <button class="ghost" id="signIn">Se connecter</button>
                </div>
                <div class="overlay-panel overlay-right">
                    <h1 class="Tloginall" id="Tloginallbis">Nouveau ici ?</h1>
                    <p style="margin-bottom: 50px;">Inscrivez-vous pour accéder à nos produits</p>
                    <button class="ghost" id="signUp">S'inscrire</button>
                </div>
            </div>
        </div>
    </div>
    <script>
        const signUpButton = document.getElementById('signUp');
		const signInButton = document.getElementById('signIn');
		const container = document.getElementById('container');

		signUpButton.addEventListener('click', () => {
			container.classList.add("right-panel-active");
		});

		signInButton.addEventListener('click', () => {
			container.classList.remove("right-panel-active");
		});
		document.getElementById("nbr-panier").innerHTML = nbrpanier;
    </script>
	{% endif %}
</div>
</div>
</body>
</html>